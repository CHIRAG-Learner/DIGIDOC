{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\prinki\\\\Desktop\\\\WEB\\\\DIGIDOCTORS\\\\src\\\\Js\\\\Adminpage.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport Menu1 from './Menu1';\nimport Bottom from './Bottom';\nimport '../Css/Adminpage.css';\nimport { Link } from 'react-router-dom';\nimport { Redirect } from 'react-router-dom';\n\nconst Exercise = props => React.createElement(\"tr\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 10\n  },\n  __self: this\n}, React.createElement(\"td\", {\n  className: \"sap\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 11\n  },\n  __self: this\n}, props.exercise.username), React.createElement(\"td\", {\n  className: \"sap\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 12\n  },\n  __self: this\n}, \"DR.\", props.exercise.fullname), React.createElement(\"td\", {\n  className: \"sap\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 13\n  },\n  __self: this\n}, props.exercise.field), React.createElement(\"td\", {\n  className: \"sap\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 14\n  },\n  __self: this\n}, \"D.M.(\", props.exercise.speciality, \")\"), React.createElement(\"td\", {\n  className: \"sap\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 15\n  },\n  __self: this\n}, props.exercise.approve), React.createElement(\"td\", {\n  className: \"sap\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 16\n  },\n  __self: this\n}, React.createElement(Link, {\n  to: \"#\",\n  onClick: () => {\n    props.UpdateExercise(props.exercise._id);\n  },\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 17\n  },\n  __self: this\n}, \"Give Access\")), React.createElement(\"td\", {\n  className: \"sap\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 19\n  },\n  __self: this\n}, React.createElement(Link, {\n  to: \"#\",\n  onClick: () => {\n    props.RevokeExercise(props.exercise._id);\n  },\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 20\n  },\n  __self: this\n}, \"Revoke Access\")), React.createElement(\"td\", {\n  className: \"sap\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 22\n  },\n  __self: this\n}, React.createElement(Link, {\n  to: \"#\",\n  onClick: () => {\n    props.deleteExercise(props.exercise._id);\n  },\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 23\n  },\n  __self: this\n}, \"Delete Data\")));\n\nexport default class Adminpage extends Component {\n  constructor(props) {\n    super(props);\n\n    this._backConfirm = async () => {\n      let event = window.confirm(\"Changes that you may not be saved.\");\n\n      if (event) {\n        window.history.pushState(null, \"\", window.location.href);\n      }\n    };\n\n    this._confirm = e => {\n      var confirmationMessage = \"\\o/\";\n      e.returnValue = confirmationMessage;\n      return confirmationMessage;\n    };\n\n    this.UpdateExercise = this.UpdateExercise.bind(this);\n    this.deleteExercise = this.deleteExercise.bind(this);\n    this.RevokeExercise = this.RevokeExercise.bind(this);\n    this.onSub = this.onSub.bind(this);\n    this.state = {\n      exercises: [],\n      unauth: false\n    };\n  }\n\n  componentDidMount() {\n    window.addEventListener(\"beforeunload\", this._confirm);\n    window.history.pushState(null, \"\", window.location.href);\n    window.onpopstate = this._backConfirm;\n    axios.get('http://localhost:5000/hey/').then(response => {\n      if (response.data == 'unauthorised') {\n        this.setState({\n          unauth: true\n        });\n      } else {\n        this.setState({\n          exercises: response.data\n        });\n      }\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  componentDidUpdate() {\n    window.onpopstate = e => {\n      this.setState({\n        unauth: true\n      });\n    };\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"beforeunload\", this._confirm);\n\n    window.onpopstate = () => {};\n  }\n\n  UpdateExercise(id) {\n    axios.put('http://localhost:5000/hey/update/' + id).then(window.location.reload(), alert(\"ACCESS GRANTED!!!\"));\n  }\n\n  deleteExercise(id) {\n    axios.delete('http://localhost:5000/hey/' + id).then(window.location.reload(), alert(\"DATA DELETED SUCCESSFULLY!!!\"));\n  }\n\n  RevokeExercise(id) {\n    axios.put('http://localhost:5000/hey/revoke/' + id).then( // <Adminpage/>\n    window.location.reload(), alert(\"ACCESS REVOKED!!!\"));\n  }\n\n  onSub() {\n    axios.put('http://localhost:5000/hey/logout/').then(this.setState({\n      unauth: true\n    }), window.location = '/', alert(\"Redirecting to Home Page!!!\")).catch(error => {\n      console.log(error);\n    });\n  }\n\n  exerList() {\n    return this.state.exercises.map(currentexercise => {\n      return React.createElement(Exercise, {\n        exercise: currentexercise,\n        UpdateExercise: this.UpdateExercise,\n        RevokeExercise: this.RevokeExercise,\n        deleteExercise: this.deleteExercise,\n        key: currentexercise._id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      });\n    });\n  }\n\n  render() {\n    if (this.state.unauth) {\n      return React.createElement(Redirect, {\n        to: {\n          pathname: '/' // isVerified: true\n\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(Menu1, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }), React.createElement(\"h1\", {\n      className: \"akba\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, \"ADMIN'S ACCOUNT\", React.createElement(\"span\", {\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: this.onSub,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, \"LOG OUT\"))), React.createElement(\"h3\", {\n      className: \"mani\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, \"REGISTERED DOCTORS\")), React.createElement(\"table\", {\n      id: \"customers\",\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      className: \"thead-light\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, \"Username\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, \"FullName\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, \"Field\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, \"Speciality\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, \"Approve\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, \"Access\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, \"Revoke Access\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, \"Delete Data\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, this.exerList())), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }), React.createElement(Bottom, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/prinki/Desktop/WEB/DIGIDOCTORS/src/Js/Adminpage.js"],"names":["React","Component","axios","Menu1","Bottom","Link","Redirect","Exercise","props","exercise","username","fullname","field","speciality","approve","UpdateExercise","_id","RevokeExercise","deleteExercise","Adminpage","constructor","_backConfirm","event","window","confirm","history","pushState","location","href","_confirm","e","confirmationMessage","returnValue","bind","onSub","state","exercises","unauth","componentDidMount","addEventListener","onpopstate","get","then","response","data","setState","catch","error","console","log","componentDidUpdate","componentWillUnmount","removeEventListener","id","put","reload","alert","delete","exerList","map","currentexercise","render","pathname"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport Menu1 from './Menu1';\nimport Bottom from './Bottom';\nimport '../Css/Adminpage.css';\nimport {Link} from 'react-router-dom';\nimport {Redirect} from 'react-router-dom';\n\nconst Exercise = props => (\n  <tr >\n    <td className=\"sap\">{props.exercise.username}</td>\n    <td className=\"sap\">DR.{props.exercise.fullname}</td>\n    <td className=\"sap\">{props.exercise.field}</td>\n    <td className=\"sap\">D.M.({props.exercise.speciality})</td>\n    <td className=\"sap\">{props.exercise.approve}</td>\n    <td className=\"sap\">\n       <Link to=\"#\" onClick={()=> {props.UpdateExercise(props.exercise._id) }} >Give Access</Link>\n    </td>\n    <td className=\"sap\">\n       <Link to=\"#\" onClick={()=> {props.RevokeExercise(props.exercise._id) }}>Revoke Access</Link>\n    </td>\n    <td className=\"sap\">\n       <Link to=\"#\" onClick={()=> {props.deleteExercise(props.exercise._id) }}>Delete Data</Link>\n    </td>\n  </tr>\n)\n\nexport default class Adminpage extends Component {\n  constructor(props) {\n    super(props);\n    this.UpdateExercise = this.UpdateExercise.bind(this)\n    this.deleteExercise = this.deleteExercise.bind(this)\n    this.RevokeExercise=this.RevokeExercise.bind(this)\n    this.onSub=this.onSub.bind(this);\n    this.state = {exercises: [],unauth:false};\n                }\n  componentDidMount() \n  {\n    window.addEventListener(\"beforeunload\", this._confirm);\n        window.history.pushState(null, \"\", window.location.href);\n        window.onpopstate = this._backConfirm;\n\n    axios.get('http://localhost:5000/hey/')\n      .then(response => {\n        if(response.data=='unauthorised')\n        {\n          this.setState({unauth:true})\n        }\n        else{\n          this.setState({ exercises: response.data })\n        }\n        \n      })\n      .catch((error) => {\n        console.log(error);\n      })\n  }\n  componentDidUpdate(){\n\n    window.onpopstate  = (e) => {\n      this.setState({unauth:true})\n   }\n  \n      }\n  componentWillUnmount() {\n    window.removeEventListener(\"beforeunload\", this._confirm);\n    window.onpopstate = () => { }\n}\n\n_backConfirm = async () => {\n    let event = window.confirm(\"Changes that you may not be saved.\");\n    if(event){\n        window.history.pushState(null, \"\", window.location.href);\n    }\n}\n\n_confirm = (e) => {\n    var confirmationMessage = \"\\o/\";\n    e.returnValue = confirmationMessage;\n    return confirmationMessage;\n}\n\n  UpdateExercise(id) {\n    axios.put('http://localhost:5000/hey/update/'+id)\n    .then(\n         window.location.reload(),\n      alert(\"ACCESS GRANTED!!!\")\n    );\n  }\n  deleteExercise(id) {\n    axios.delete('http://localhost:5000/hey/'+id)\n    .then(\n\n     window.location.reload(),\n      alert(\"DATA DELETED SUCCESSFULLY!!!\")\n    );\n  }\n  RevokeExercise(id) {\n    axios.put('http://localhost:5000/hey/revoke/'+id)\n    .then(\n      // <Adminpage/>\n       window.location.reload(),\n      alert(\"ACCESS REVOKED!!!\")\n    );\n  }\n   \n  onSub()\n  {\n    axios.put('http://localhost:5000/hey/logout/')\n    .then(\n      this.setState({unauth:true}),\n      window.location=('/'),\n      alert(\"Redirecting to Home Page!!!\")\n    )\n    .catch((error) => {\n      console.log(error);\n    })\n  }\n  \n  exerList() {\n    return this.state.exercises.map(currentexercise => {\n      return <Exercise exercise={currentexercise} UpdateExercise={this.UpdateExercise} RevokeExercise={this.RevokeExercise} \n    deleteExercise={this.deleteExercise} key={currentexercise._id}/>;\n    })\n  }\n\n  render() {\n    if (this.state.unauth) {\n      return <Redirect to={{\n          pathname : '/',\n          // isVerified: true\n      }}/>;\n    }\n    return (\n      <div>\n        <Menu1/>\n        <br/>\n        <br/>\n        <br/>\n        <h1 className=\"akba\">ADMIN'S ACCOUNT<span align=\"right\"><button onClick={this.onSub}>LOG OUT</button></span></h1>\n        <h3 className=\"mani\"><b>REGISTERED DOCTORS</b></h3>\n        <table id=\"customers\" align=\"center\">\n          <thead className=\"thead-light\">\n            <tr>\n              <th>Username</th>\n              <th>FullName</th>\n              <th>Field</th>\n              <th>Speciality</th>\n              <th>Approve</th>\n              <th>Access</th>\n              <th>Revoke Access</th>\n              <th>Delete Data</th>\n            </tr>\n          </thead>\n          <tbody>\n            { this.exerList() }\n          </tbody>\n        </table>\n        <br/>\n        <br/>\n        <br/>\n        <Bottom/>\n      </div>\n    )\n  }\n}"]},"metadata":{},"sourceType":"module"}